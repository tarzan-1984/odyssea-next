# Настройки линтера и форматирования кода

Этот проект настроен с ESLint и Prettier для обеспечения качества кода и единообразного стиля.

## Установка зависимостей

После клонирования проекта установите зависимости:

```bash
yarn install
```

## Настройка Husky (pre-commit хуки)

После установки зависимостей настройте Husky:

```bash
yarn prepare
```

Это создаст необходимые Git хуки для автоматического запуска линтинга и форматирования перед коммитом.

## Доступные команды

### Линтинг

- `yarn lint` - проверка кода с ESLint
- `yarn lint:fix` - автоматическое исправление ошибок ESLint

### Форматирование

- `yarn format` - форматирование всего проекта с Prettier
- `yarn format:check` - проверка форматирования без изменений

## Правила ESLint

### Основные правила

- **Отступы**: Используются табы (tab) для отступов
- **Длина строки**: Максимум 100 символов
- **Точки с запятой**: Обязательны
- **Кавычки**: Одинарные для строк, двойные для JSX

### React правила

- Проверка правил хуков
- Проверка доступности (a11y)
- Сортировка пропсов
- Запрет небезопасных паттернов

### TypeScript правила

- Строгая типизация
- Запрет `any` (с предупреждением)
- Проверка неиспользуемых переменных
- Проверка Promise обработки

### Next.js правила

- Проверка специфичных для Next.js паттернов
- Запрет устаревших API
- Проверка оптимизации

## Автоматическое форматирование

При каждом коммите автоматически запускается:

1. ESLint с автоматическим исправлением ошибок
2. Prettier для форматирования кода

## Исключения

Следующие файлы исключены из линтинга и форматирования:

- `node_modules/`
- `.next/`
- Сгенерированные файлы
- Конфигурационные файлы
- Lock файлы

## Настройки редактора

### VS Code

Рекомендуемые расширения:

- ESLint
- Prettier - Code formatter

Настройки VS Code:

```json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "eslint.validate": ["javascript", "javascriptreact", "typescript", "typescriptreact"]
}
```

### WebStorm

- Включите ESLint в настройках
- Настройте Prettier как внешний инструмент
- Включите "Fix ESLint Problems" в настройках Git

## Решение проблем

### Ошибки ESLint

1. Запустите `yarn lint:fix` для автоматического исправления
2. Проверьте правила в `eslint.config.mjs`
3. Используйте комментарии `// eslint-disable-next-line` для исключения конкретных строк

### Проблемы с форматированием

1. Запустите `yarn format` для форматирования всего проекта
2. Проверьте настройки в `.prettierrc`
3. Убедитесь, что файл не в `.prettierignore`

### Проблемы с pre-commit хуками

1. Убедитесь, что Husky настроен: `yarn prepare`
2. Проверьте права на файл `.husky/pre-commit`
3. Переустановите хуки: `rm -rf .husky && yarn prepare`

## Кастомизация

### Добавление новых правил ESLint

Отредактируйте `eslint.config.mjs` и добавьте правила в секцию `rules`.

### Изменение настроек Prettier

Отредактируйте `.prettierrc` для изменения стиля форматирования.

### Добавление новых типов файлов

Обновите `.lintstagedrc` для добавления новых расширений файлов.

## Лучшие практики

1. **Регулярно запускайте линтер**: `yarn lint`
2. **Исправляйте ошибки сразу**: `yarn lint:fix`
3. **Форматируйте код перед коммитом**: `yarn format`
4. **Используйте pre-commit хуки** для автоматизации
5. **Настройте редактор** для автоматического форматирования
6. **Регулярно обновляйте зависимости** линтера

## Поддержка

При возникновении проблем:

1. Проверьте версии зависимостей
2. Очистите кэш: `yarn cache clean`
3. Переустановите зависимости: `rm -rf node_modules && yarn install`
4. Проверьте логи ESLint и Prettier
